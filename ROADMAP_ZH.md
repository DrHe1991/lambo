## 产品 Roadmap（3+ Phase，第一版极简但跑通生态）

目标约束：
- **严格删除垃圾**（治理强约束优先于"完全自由表达"）
- **深耕发帖奖励系统**（Phase 1 使用平台积分验证机制，Phase 2 再接入真实资金）
- **Android 首发**，iOS 第二，Web 第三
- **Phase 1 专注核心体验**：内容创作、社交互动、质押经济与治理机制

> **平台策略说明**：目标用户"全球年轻加密用户"中，东南亚、拉美、非洲等高增长区域 Android 占比 70–90%。Phase 1 先做 Android 快速验证，iOS 版本在 Phase 2 补齐。

---

## Phase 1（MVP，深耕发帖奖励系统）— 6~10 周

> **Phase 1 核心目标**：专注打磨"发帖奖励系统"的核心体验——内容创作、社交互动、质押经济与治理机制。暂不涉及真实资金入金/提现，使用**平台积分（内部 sat）**模拟经济循环，降低开发复杂度，快速验证产品-市场契合度。

### 1) 必做：用户账户（简化版）
- **登录**：
  - **Google Sign-In**（免费、零门槛、Android 原生支持）
  - 可选：Web3 钱包签名登录（为 Phase 2 资金系统预留）
  > **说明**：Phase 1 先做 Android，Google Sign-In 是最低成本的登录方案（完全免费，无调用限制）。后续上 iOS 时再加 Apple Sign-In。
- **内部积分账本**：
  - 新用户注册赠送初始积分（如 1000 sat）用于体验
  - `available_balance`（可用）
  - `locked_balance`（质押冻结，24h）
  - 账本流水（可审计）
- **积分获取方式**：
  - **每日登录奖励**（早期较多，随用户规模增长逐步收紧）
  - **邀请新用户奖励**

> **说明**：Phase 1 面向种子用户/自己圈子，每日登录奖励较为宽松，让早期用户能充分体验发帖奖励机制。随着用户规模扩大进入下沉市场，积分发放会逐步收紧，最终过渡到 Phase 2 的真实代币模式——必须充值才能发帖。

### 2) 必做：内容、社交与通讯

**App 主导航（底部 Tab Bar）**：

| Feed | Following | ＋发布 | Chat | 我的 |
| --- | --- | --- | --- | --- |
| 推荐/发现 | 关注的人 | 中央凸起按钮 | 私聊/群聊 | 个人主页 |

- **Feed**（推荐流/陌生人社交）：算法推荐 + AI Digest + 频道筛选
- **Following**（关注流/朋友动态）：仅展示已关注用户的内容，类似 Instagram/朋友圈
- **发布（中央按钮）**：切换发 `note`（短帖）或 `question`（提问）
- **Chat**（通讯）：个人私聊 + 群聊（Phase 1 先做基础文字消息，不做复杂的频道/权限）
- **我的**（个人主页）：积分余额、TrustScore 信誉、发布历史、设置

**内容模型**：
- **统一 Post 模型**：`note`（短帖）与 `question`（提问）两种类型
- **回答（answer）**：仅支持对 `question` 的结构化回答
- **评论（comment）**：对 note/answer 的简化评论
- **Follow/Unfollow**
- **频道（Channels）**：
  - 先做固定频道（科技/金融/加密/投资），在 Feed 中作为筛选维度

### 3) 必做：质押经济规则（核心机制）
- **发帖质押机制（24h）**：
  - 发帖/提问/回答/评论需质押积分（24h 后无违规自动退还）
  - 动态费率（按垃圾压力 `SI`）可以先做"每日更新一次"
- **点赞/投票质押（24h）**：必须上线，否则对刷无解
- **基础信誉分**（Phase 1 简化版）：
  - 只实现 `TrustScore(0–1000)`
  - `TrustScore` 由：内容是否被删/是否被 challenge 成立、投票与最终裁决一致度、缺席行为等更新
  - 信誉分影响：质押折扣、陪审资格
  - **UI 颜色等级（按 0–1000 显示分）**：
    - `0–390`：白色（White）
    - `400–590`：绿色（Green）
    - `600–740`：蓝色（Blue）
    - `750–890`：紫色（Purple）
    - `900–1000`：橙色（Orange，主题色）
    - 橙色用户发帖：头像显示橙色环与高亮效果，帖子卡片边框为橙色

> **经济模型说明**：Phase 1 早期对种子用户宽松（每日登录送积分），但不存在"发帖赚钱"机制——发帖只是质押后退还，不产生额外收益。随着用户规模扩大，积分发放收紧，最终过渡到必须充值真实代币才能发帖。

### 4) 必做：治理（AI 审核，简化流程）
> Phase 1 的原则：**用 AI 审核快速跑通仲裁闭环**，人工审核与委员会审理推迟到后续阶段。

- **Challenge（挑战/举报）流程**：
  1. 用户发起 challenge（需质押积分）
  2. **AI 自动审核**（快速判决，通常秒级~分钟级）
  3. AI 给出判决结果
  4. 举报人/被举报人可选择：
     - **服从判决** → 结案，按判决结算积分
     - **不服判决** → Phase 1 暂不支持上诉（Phase 2 开放人工审核上诉）

- **结算规则**：
  - 违规成立：作者押金高比例罚没，分配给挑战者/平台治理池
  - 违规不成立：挑战者亏掉质押积分

> **说明**：Phase 1 的 AI 审核足以处理大部分明显的垃圾/违规内容（广告、诈骗、色情等）。复杂的边界案例留给 Phase 2 的人工审核机制处理。

### 5) 必做：推荐与留存
- **Feed Tab**：算法推荐流 + 频道筛选 + 每日 Digest 置顶栏（"今日科技/加密热议"）
- **Following Tab**：关注流，给用户"回到朋友圈"的归属感
- **冷启动 AI Agent 内容供给（Phase 1 必做）**：
  - 输出形式：**聚合摘要 + 观点 + 原文链接**
  - 强制标注：AI 账号、AI 生成内容显著标识
  - 风控：AI 账号也需要遵守质押与规则（不能有官方特权）

#### 关于“去 X/知乎/Reddit 把帖子扒下来”的落地建议（Phase 1 合规优先）
为了降低法律与平台条款风险，建议 Phase 1 采用：
- **优先接入允许的来源**：例如 Reddit（官方 API）、RSS/公开许可内容、作者授权内容
- **不做原文搬运**：只做摘要、观点、结构化信息与引用片段（可控长度）+ 原文链接
- **对来源透明标注**：标题旁显示来源与时间
- **必要时加白名单**：只聚合允许转载/引用的站点或内容类别

> 若一定要覆盖 X/知乎等，建议走官方 API 或合作授权；“大规模抓取+复刻原文”很容易触发封禁与版权纠纷，影响上架与融资。

### Phase 1 交付定义（验收标准）
- **新用户**：能通过 Google Sign-In 注册→每日登录获得积分→在 Feed/Following 中浏览内容→发 note/question（质押）→点赞/回答→24h 无违规退押
- **社交**：能 Follow 感兴趣的用户并在 Following Tab 查看动态；能与其他用户私聊或建群聊天
- **增长**：邀请新用户获得积分奖励；每日登录获得积分（早期宽松）
- **治理**：垃圾内容能被 AI 审核 challenge 并删掉；滥诉会亏积分

---

## Phase 2（资金系统上线 + 增强治理）— 12~18 周

### 1) 必做：资金与账户（生态的"血液"）
- **钱包绑定**：
  - 引导用户绑定 Web3 钱包（连接主流钱包）
  - 允许用户绑定/更换提现地址（带冷却期）
- **入金**：
  - BTC/闪电入金（优先闪电，链上作为补充）
  - 稳定币入金（可后置），入账统一折算为 sat 余额
- **内部 sat 账本升级**：
  - 平台积分与真实 sat 并轨或兑换机制
  - 完整账本流水（可审计）
- **提现**：
  - 分层限额 + 分层延迟（按 `TrustScore/RiskScore`）
  - 人机/风控触发：异常则自动延长延迟并限制额度

> **说明**：Phase 2 正式引入真实资金流动。经过 Phase 1 的产品验证，此时上线资金系统风险更可控，用户基础也更稳固。

### 2) 治理升级（人工审核上诉）
- **Challenge 流程升级**：
  1. 用户发起 challenge → AI 审核 → 给出判决
  2. 不服 AI 判决 → **花费积分申请人工审核上诉**
  3. **随机抽取人工审核员**：
     - 审核员信誉分必须 **高于被 challenge 者**
     - 随机抽样 N=5~9 人（根据案件严重程度）
     - 密封投票 + 截止后统一揭示（防跟票）
  4. 人工审核给出判决
  5. 举报人/被举报人可选择：
     - **服从判决** → 结案
     - **不服判决** → Phase 2 暂不支持再上诉（Phase 3 开放委员会审理）
- **审核员激励**：
  - 参与审核获得积分奖励
  - 判决与最终结果一致获得额外加成
  - 判决被推翻扣除信誉分

### 3) 信誉系统升级（四维信誉）
- 引入 `Creator / Curator / Juror / Risk` 四维子分
- 费用折扣、陪审资格、提现额度/延迟全面与信誉联动

### 4) Boost 广告系统上线（核心收入）
- **Boost 购买**：
  - 广告主为某条 post 充值预算（sat）
  - 设置简单的 targeting（频道/语言）与频控（每用户每日上限）
- **计费**：
  - 按"每次进入推荐流展示扣费"的简化模型
  - 负反馈（隐藏/拉黑/挑战成立）触发"成本上调或熔断"
- **分配**：
  - 平台 95–98%
  - 治理池 2–5%（用于支付陪审与反垃圾运营）
- **升级功能**：
  - 更丰富 targeting（标签、地区、语言、设备类型）
  - "质量得分"影响竞价/扣费
  - 可选：受众返利（1–5%）

### 5) Web 端与后台完善
- Web 端完善（创作者后台、广告主后台、审判后台）
- Web 端轻量社交功能（浏览、搜索、分享落地页）

---

## Phase 3（规模化与开放生态）— 12~24 周

### 1) 治理终极升级（委员会审理）
- **Challenge 完整三级流程**：
  1. **一审：AI 审核**（免费，秒级判决）
  2. **二审：人工审核**（花费积分上诉，随机高信誉用户审理）
  3. **三审：委员会审理**（花费大额积分上诉，终审判决）
- **委员会机制**：
  - 由平台选出的高信誉核心成员组成
  - 委员会成员需质押大额保证金
  - 审理费用高昂（防止滥用）
  - 判决为终审，不可再上诉
- **完整的陪审员信誉体系**：
  - 历史判决准确率
  - 被推翻次数
  - 参与积极度

### 2) 开放平台与生态
- 开放 API（只读/写入权限分级）
- Bot/Agent 平台（第三方可部署 agent，但必须质押与透明标注）
- 频道自治（频道自建 + 频道治理规则参数化）

### 3) 高级内容形态
- 长文、合集、知识库式问答沉淀
- 直播/语音房（可选，强风控）

### 4) 全球增长与合规策略
- 多语言本地化
- 分地区内容政策与上架策略
- 可选：与合规支付/托管伙伴合作，降低托管风险

---

## 建议的"砍功能清单"（Phase 1 明确不做）

为保证 Phase 1 速度与稳定性，建议暂不做：
- **真实资金入金/提现**（Phase 1 使用平台积分，Phase 2 再接入真实资金）
- **Boost 广告系统**（Phase 1 专注内容奖励验证，Phase 2 再上线商业化）
- **人工审核上诉**（Phase 1 只做 AI 审核，Phase 2 再开放人工上诉）
- **委员会审理**（Phase 3 功能）
- 用户自建频道与复杂权限系统
- 聊天中的富媒体消息（语音/视频/文件传输等，Phase 1 只做文字+图片）
- 链上每笔交互结算（全部留在内部账本）
- 完整的 DAO 治理提案系统（先仲裁机制）
- commit–reveal 密码学投票（Phase 2 人工审核再加）
- 完整四维信誉子分展示（Phase 1 只需 TrustScore）

---

## 前端开发待办清单（Phase 1 差距分析）

> 基于当前 `BitLine/` 目录下的前端代码与 Phase 1 Roadmap 对比，以下是需要完成的开发任务：

### 🔴 必须新增的功能

| 优先级 | 功能 | 说明 |
|--------|------|------|
| P0 | **Google Sign-In 登录页** | 新用户首次打开 App 需要登录页，Google 登录按钮 |
| P0 | **每日登录奖励弹窗** | 登录后显示"今日获得 XX 积分"弹窗 |
| P0 | **Challenge AI 审核流程** | 点击 Challenge → 质押确认 → AI 判决中 → 结果展示（服从/不服） |
| P1 | **邀请新用户入口** | Profile 页添加"邀请好友"按钮，生成邀请码/分享链接 |
| P1 | **点赞质押确认** | 点赞前弹窗确认"质押 X sat，24h 后退还" |
| P1 | **账本流水页面** | 查看积分收支记录（质押/退还/奖励/罚没） |
| P2 | **新用户引导流程** | 首次登录后引导：介绍质押机制、赠送初始积分 |

### 🟡 需要移除/隐藏的功能

| 功能 | 当前状态 | 处理方式 |
|------|----------|----------|
| **Deposit/Withdraw 按钮** | Profile 页存在 | 移除或改为"获取积分"（跳转到每日登录/邀请页） |
| **Boost Management 入口** | Profile 页存在 | Phase 1 隐藏 |
| **Jury Duty 入口** | Profile 页存在 | Phase 1 隐藏（AI 审核无需人工陪审） |
| **Boost 相关 UI** | renderBoost 页面存在 | Phase 1 隐藏 |

### 🟢 需要完善的功能

| 功能 | 当前状态 | 改进方向 |
|------|----------|----------|
| **AI 内容标识** | PostCard 有 AI 标签 | 增加更明显的视觉区分（如边框/背景色） |
| **质押状态展示** | Profile 有 Staked 余额 | 添加"质押中"列表，显示每笔质押倒计时 |
| **TrustScore** | 显示 0-100 | 改为 0-1000 与 Roadmap 一致 |

### 📱 技术债务

| 项目 | 说明 |
|------|------|
| 所有数据目前是 Mock | 需要对接后端 API |
| 无状态管理 | 考虑引入 Zustand 或 Context |
| 无路由 | 考虑 React Router 或保持当前 View 状态机 |
| Google Sign-In SDK | 需要集成 `@react-native-google-signin` 或 Capacitor 插件 |
